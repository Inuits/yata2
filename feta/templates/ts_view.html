<div class="container">
    <h1>Timesheet</h1>
    <table class="table">
        <tr><td>Customer:</td><td>{{timesheet.customer_name}}</td><td>Project:</td><td>{{timesheet.project_name}}</td></tr>
        <tr><td>Month:</td><td>{{timesheet.month}}</td><td>User:</td><td>{{timesheet.user_name}}</td></tr>
    </table>
    <table class="table table-bordered table-striped">
        <thead>
        <tr>
            <th class="col-md-1">Day</td>
            <th class="col-md-5">Message</td>
            <th class="col-md-1">100%</td>
            <th class="col-md-1">150%</td>
            <th class="col-md-1">200%</td>
            <th class="col-md-1">Travel</td>
            <th class="col-md-2">Actions</td>
        </tr>
        </thead>
        <tbody>
        <tr data-ng-repeat="hour in hours|orderBy:['day','id']">
            <td class="text-center col-md-1">{{hour.day}}</td>
            <td class="text-center col-md-5">{{hour.task}}</td>
            <td class="text-center col-md-1">{{hour.hours}}</td>
            <td class="text-center col-md-1">{{hour.hours150}}</td>
            <td class="text-center col-md-1">{{hour.hours200}}</td>
            <td class="text-center col-md-1">{{hour.hourstravel}}</td>
            <td class="text-center col-md-2">
                <div class="btn-group">
                    <a data-ng-class="{'btn': true, 'btn-default': true, 'disabled': timesheet.locked}" data-ng-click="delete()"><i class="glyphicon glyphicon-edit"></i></a>
                    <a data-ng-class="{'btn': true, 'btn-default': true, 'disabled': timesheet.locked}" data-ng-click="delete()"><i class="glyphicon glyphicon-retweet"></i></a>
                    <a data-ng-class="{'btn': true, 'btn-default': true, 'disabled': timesheet.locked}" data-ng-click="delete(hour)"><i class="glyphicon glyphicon-trash"></i></a>
                </div>
            </td>
        </tr>
        <tr>
            <td class="text-center col-md-1"><input data-ng-disabled="timesheet.locked" class="form-control" data-ng-model="newhour.day"></td>
            <td class="text-center col-md-5"><input data-ng-disabled="timesheet.locked" class="form-control" data-ng-model="newhour.task"></td>
            <td class="text-center col-md-1"><input data-ng-disabled="timesheet.locked" class="form-control" data-ng-model="newhour.hours"></td>
            <td class="text-center col-md-1"><input data-ng-disabled="timesheet.locked" class="form-control" data-ng-model="newhour.hours150"></td>
            <td class="text-center col-md-1"><input data-ng-disabled="timesheet.locked" class="form-control" data-ng-model="newhour.hours200"></td>
            <td class="text-center col-md-1"><input data-ng-disabled="timesheet.locked" class="form-control" data-ng-model="newhour.hourstravel"></td>
            <td class="text-center col-md-2">
            <div class="btn-group">
                <a data-ng-class="{'btn': true, 'btn-default': true, 'disabled': timesheet.locked}" data-ng-click="add()"><i class="glyphicon glyphicon-ok-circle"></i></a>
                <a data-ng-class="{'btn': true, 'btn-default': true, 'disabled': timesheet.locked}" data-ng-click="newhour.day=newhour.day+1"><i class="glyphicon glyphicon-forward"></i></a>
            </div>
            </td>
        </tr>
        </tbody>
        <tfoot>
        <tr>
            <td class="text-center col-md-1" data-ng-bind="hours.length + ' entries'"></td>
            <td class="text-center col-md-5"></td>
            <td class="text-center col-md-1"></td>
            <td class="text-center col-md-1"></td>
            <td class="text-center col-md-1"></td>
            <td class="text-center col-md-1"></td>
            <td class="text-center col-md-2">
                <a data-ng-click="lock(timesheet)" data-ng-class="{
                    'btn':true,
                    'btn-default': !timesheet.locked,
                    'btn-warning': timesheet.locked,
                    'disabled': timesheet.locked && !$root.user.is_staff}">
                    <i class="glyphicon glyphicon-lock"></i>
                </a>
            </td>
        </tr>
        </tfoot>
    </table>

</div>

